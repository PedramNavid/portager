---
title: "Visualizing Data"
author: "Pedram Navid"
date: "August 14, 2016"
output:
  ioslides_presentation: 
    fig_height: 3
    fig_width: 5
    widescreen: yes
    smaller: true
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE, message = FALSE)
```

# Overview

## Why Viz First?

Philosophy: start with the stuff you'll want

> - so you'll stick around for the stuff you hate.

## Visual Exploration of Data

- Most important part of data exploration
- Ability to see trends and relationships is unmatched by any statistical summary
- One of the most important methods of communication 
- Analysis often hinges on proper visual exploration

## Plotting Packages in R

- Lots of packages: base, lattice, ggplot2, others..
- In keeping with the philosophy of this tutorial, we will focus on ggplot2
- Two main functions: `ggplot()` and `qplot()`

```{r}
# Install if you haven't
# install.packages('ggplot2')
library(ggplot2)
```

# qplot()

## qplot: fast plotting

- qplot gives you fast plotting, at the expensive of customizability
- great for throwing ideas out quickly and exploring new possibilities

```{r, message = F, warning = F}
library(MASS)

# Histogram is default for one variable
qplot(Claims, data = Insurance)
```

## 

```{r}
# Scatterplot is default for two variables
qplot(Holders, Claims, data = Insurance)
```

Basic format: `qplot(x, y, data = Your_Dataset)`

## qplot: expanded

```{r}
# Add 3rd variable to aesthethics such as colour, size, fill
qplot(Holders, Claims, colour = Age, data = Insurance)
```

## 

```{r}
# Don't ever do this, it's very hard to interpret
qplot(Group, Claims, size = Holders, colour = Age, data = Insurance)
```

## qplot: facets

```{r}
# Facet breaks up a plot by a group.
qplot(Claims, facets = ~ Age, data = Insurance)
```

facets use the `formula` syntax: `~ a` for a single group or `a ~ b` for 2 groups

##
```{r}
qplot(Holders, Claims, facets = Group ~ Age, data = Insurance)
```

# ggplot()

## ggplot primer

Syntax is confusing at first.

```{r}
ggplot(data=Cars93, aes(x = Horsepower, y = MPG.city)) +
  geom_point()
```

Basic format is:  
`ggplot(data=YourDataSet, aes(x = IndVariable, y = DepVariable)) +
geom_XXXX()`

## aesthethics

* aesthethics are something that the plot draws that varies with data 
* examples: 
  + location of a point
  + size of a point, or line
  + colour of a point or line
  + fill of a bar, histogram
*  use aes() to define them, either for the whole plot: `ggplot(data = bla, aes(x, y)) 
* or for individual layers, if different layers have different aesthethics
  + `geom_line(aes(date, value1, colour = group)) + `
  `geom_line(aes(date, value2, colour = group))`


# Your Turn